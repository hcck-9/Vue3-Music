import{Z as F,r as A,h as g,$ as k,X as I,o as C,m as o,p as a,G as r,A as s,F as u,Y as f,y as _,a6 as H,I as d,a0 as h,S as R,q as w,C as B,a9 as S}from"./index-Xc3Yzc2G.js";import{C as $}from"./CoverPlay-PJPyKv4Z.js";import{T as E}from"./Title-yr_3DhlD.js";import{k as V,l as q}from"./api-RBkkRLth.js";import"./base-9Z_h2vHL.js";import{E as T}from"./el-button-HY03yLLG.js";import"./el-image-viewer-0edSsv60.js";import"./typescript-ml7cVkNB.js";import"./index-7MvDZnRv.js";import"./scroll-ZjKFmqgD.js";import"./IconPark-ggFK5aku.js";import"./PlayOne-MwD_A6RN.js";import"./Right-MDLG1MnV.js";import"./index-kTyWkl82.js";import"./use-form-item-udUjy6Ez.js";import"./constants-ylLUDuoU.js";const N=F("album",()=>{const c=A([]);return{albumHotNew:c,getAlbumHotNew:async()=>{c.value.length||(c.value=await V())}}}),Z={class:"grid grid-flow-row grid-cols-5 lg:grid-cols-10 gap-5"},M=["onClick"],U={class:"truncate text-sm text-main mt-2"},j={class:"truncate text-xs text-main mt-2 text-dc"},G=g({__name:"HotNewAlbum",setup(c){const m=k(),{albumHotNew:i}=I(N()),{getAlbumHotNew:e}=N();return C(()=>{e()}),(x,p)=>{const v=$;return o(),a(u,null,[r(E,{title:"热门新碟",hasRight:!0}),s("div",Z,[(o(!0),a(u,null,f(_(i),l=>(o(),a("div",{key:l.albumId,onClick:n=>_(m).push({name:_(H).albumDetail,query:{id:l.albumId}})},[r(v,{"pic-url":l.coverUrl},null,8,["pic-url"]),s("div",U,d(l.albumName),1),s("div",j,d(l.artistName),1)],8,M))),128))])],64)}}}),J=h(G,[["__file","E:/code/2023-暑期/5-vue/1-demo/vue3-music/src/views/music/album/HotNewAlbum.vue"]]),K={class:"flex items-end"},L={class:"ml-5 py-2 flex justify-around"},X=["onClick"],Y={key:0,class:"ml-1.5 mr-2"},z={class:"grid grid-flow-row grid-cols-5 xl:grid-cols-10 gap-5"},O=["onClick"],Q={class:"mt-2 text-xs text-main truncate"},W={class:"mt-2 text-main text-xs text-dc"},ee={key:0,class:"py-10"},te=g({__name:"AllNewAlbun",setup(c){const m=k(),i=A([]),e=R({init:!1,loading:!1,area:"Z_H",page:1,limit:30,more:!1}),x=n=>{e.area=n,p()},p=async()=>{e.loading=!0;try{const{albumProducts:n,hasNextPage:b}=await q(e);e.page===1?i.value=n:i.value.push(...n),e.more=b,e.init=!0,e.loading=!1}catch{}},v=()=>{e.page++,p()};C(p);const l=[{key:"Z_H",name:"华语"},{key:"E_A",name:"欧美"},{key:"KR",name:"韩国"},{key:"JP",name:"日本"}];return(n,b)=>{const P=$,D=T;return o(),a(u,null,[s("div",K,[r(E,{title:"全部新碟",hasRight:!1}),s("div",L,[(o(),a(u,null,f(l,(t,y)=>s("div",{key:t.key,class:"text-xs"},[s("span",{class:"cursor-pointer hover:underline",onClick:ae=>x(t.key)},d(t.name),9,X),y<l.length-1?(o(),a("span",Y,"|")):w("v-if",!0)])),64))])]),s("div",z,[(o(!0),a(u,null,f(i.value,t=>(o(),a("div",{key:t.albumId,class:"flex flex-col",onClick:y=>_(m).push({name:_(H).albumDetail,query:{id:t.albumId}})},[r(P,{name:t.albumName,"pic-url":t.coverUrl,"play-count":0},null,8,["name","pic-url"]),s("div",Q,d(t.albumName),1),s("div",W,d(t.artistName),1)],8,O))),128))]),e.more?(o(),a("div",ee,[r(D,{class:"w-full text-center",link:"",onClick:v,loading:e.loading},{default:B(()=>[S(" 加载更多 ")]),_:1},8,["loading"])])):w("v-if",!0)],64)}}}),se=h(te,[["__file","E:/code/2023-暑期/5-vue/1-demo/vue3-music/src/views/music/album/AllNewAlbun.vue"]]),oe=g({__name:"Album",setup(c){return(m,i)=>(o(),a(u,null,[r(J),r(se)],64))}}),ye=h(oe,[["__file","E:/code/2023-暑期/5-vue/1-demo/vue3-music/src/views/music/album/Album.vue"]]);export{ye as default};
