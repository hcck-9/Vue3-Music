import{d as M,e as T,u as W,_ as N,w as D}from"./base-O0zJ9wQI.js";import{E as F}from"./el-button-j9s8UcJh.js";import{h as _,k as H,m as a,p as c,x as p,y as n,z as Z,q as v,J as q,G as o,Z as U,A as t,I as m,a9 as C,an as A,a2 as x,a3 as g,a0 as b,_ as G,r as u,F as J,Y as K,B as O,C as R}from"./index-Xoaj6-Zc.js";import{I as w,a as L}from"./IconPark-kA3EyymD.js";import{K as Y}from"./api-RBkkRLth.js";const Q=M({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},contentPosition:{type:String,values:["left","center","right"],default:"center"},borderStyle:{type:T(String),default:"solid"}}),X=_({name:"ElDivider"}),ee=_({...X,props:Q,setup(e){const s=e,i=W("divider"),r=H(()=>i.cssVar({"border-style":s.borderStyle}));return(l,d)=>(a(),c("div",{class:p([n(i).b(),n(i).m(l.direction)]),style:q(n(r)),role:"separator"},[l.$slots.default&&l.direction!=="vertical"?(a(),c("div",{key:0,class:p([n(i).e("text"),n(i).is(l.contentPosition)])},[Z(l.$slots,"default")],2)):v("v-if",!0)],6))}});var te=N(ee,[["__file","divider.vue"]]);const j=D(te),se=w("smiling-face",!1,function(e){return o("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[o("path",{d:"M24 44C35.0457 44 44 35.0457 44 24C44 12.9543 35.0457 4 24 4C12.9543 4 4 12.9543 4 24C4 35.0457 12.9543 44 24 44Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),o("path",{d:"M31 31C31 31 29 35 24 35C19 35 17 31 17 31",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),o("path",{d:"M31 18V22",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),o("path",{d:"M17 18V22",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])}),oe=w("thumbs-up",!0,function(e){return o("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[o("path",{d:"M27.6002 18.5998V11.3998C27.6002 8.41743 25.1826 5.99977 22.2002 5.99977L15.0002 22.1998V41.9998H35.9162C37.7113 42.0201 39.2471 40.7147 39.5162 38.9398L42.0002 22.7398C42.1587 21.6955 41.8506 20.6343 41.1576 19.8373C40.4645 19.0403 39.4564 18.5878 38.4002 18.5998H27.6002Z",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),o("path",{d:"M15 22.0001H10.194C8.08532 21.9628 6.2827 23.7095 6 25.7994V38.3994C6.2827 40.4894 8.08532 42.0367 10.194 41.9994H15V22.0001Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null)])}),y=U("comment",{state:()=>({playlistCommentList:[],playlistCommentCount:0,more:!1,loading:!1}),actions:{async getPlaylistCommentList(e,s=20,i=1){this.loading=!0;try{const{comments:r,total:l,more:d}=await Y(e,s,i);i===1?this.playlistCommentList=r:this.playlistCommentList.push(...r),this.loading=!1,this.playlistCommentCount=l,this.more=d}catch{}}}}),ne=e=>(x("data-v-b7f7c0ec"),e=e(),g(),e),ie={class:"flex py-3 border-top"},le=["src"],ae={class:"ml-3 w-full flex flex-col justify-between"},ce={class:"text-xs"},re={class:"text-blue-400 cursor-pointer"},de={class:"flex justify-between text-xs"},me={class:"flex items-center"},ue={key:0,class:"ml-1.5"},_e=ne(()=>t("span",{class:"cursor-pointer"},"回复",-1)),he=_({__name:"CommentItem",props:{comment:{type:Object,required:!0}},setup(e){const s=e;return(i,r)=>{const l=L,d=j;return a(),c("div",ie,[t("img",{src:s.comment.user.avatarUrl,alt:"",class:"w-14 h-14 object-cover"},null,8,le),t("div",ae,[t("div",ce,[t("span",re,m(s.comment.user.nickname),1),C(" : "),t("span",null,m(s.comment.content),1)]),t("div",de,[t("span",null,m(n(A)(s.comment.time)),1),t("div",me,[o(l,{icon:n(oe),size:"16"},null,8,["icon"]),s.comment.likedCount>0?(a(),c("span",ue,m(`(${s.comment.likedCount})`),1)):v("v-if",!0),o(d,{direction:"vertical"}),_e])])])])}}}),ve=b(he,[["__scopeId","data-v-b7f7c0ec"],["__file","E:/code/2023-暑期/5-vue/1-demo/vue3-music/src/components/common/CommentItem.vue"]]),I=e=>(x("data-v-41bc289b"),e=e(),g(),e),fe={class:"px-2"},ke={class:"flex"},pe=["src"],ye=["value"],Ce=I(()=>t("div",{class:"triangle"},[t("div",{class:"triangle_inner"})],-1)),xe={class:"ml-16 px-2 flex justify-between mt-1"},ge={class:"mr-1 text-xs"},be=I(()=>t("button",{class:"button-sc text-sm"},"评论",-1)),we={key:0,class:"flex flex-col"},Le={class:"text-sm mt-2"},je={key:0,class:"flex justify-center py-5"},Ie={key:1,class:"text-center mt-5 text-slate-400 text-xs"},Se=_({__name:"CommentList",props:{id:{type:Number,required:!0}},setup(e){const{playlistCommentList:s,more:i,loading:r}=G(y()),{getPlaylistCommentList:l}=y(),d=u(1),S=u(20),h=u(""),$=u("https://s4.music.126.net/style/web2/img/default/default_avatar.jpg?param=50y50"),z=f=>{h.value.length>=140&&f.preventDefault()},V=e,P=()=>{l(V.id,S.value,d.value+1)};return(f,$e)=>{const B=j,E=F;return a(),c("div",fe,[t("div",null,[t("div",ke,[t("img",{src:$.value,alt:"",class:"w-14 h-14"},null,8,pe),t("textarea",{class:"area ml-4 pl-2 pt-1.5 bg-view",placeholder:"评论",value:h.value,onInput:z},null,40,ye),Ce]),t("div",xe,[o(L,{icon:n(se),size:"18"},null,8,["icon"]),t("div",null,[t("span",ge,m(140-h.value.length),1),o(B,{direction:"vertical"}),be])])]),n(s).length?(a(),c("div",we,[t("div",Le,[(a(!0),c(J,null,K(n(s),k=>(a(),O(ve,{key:k.commentId,comment:k},null,8,["comment"]))),128))]),n(i)?(a(),c("div",je,[o(E,{link:"",class:"text-center w-full",onClick:P,loading:n(r)},{default:R(()=>[C("加载更多")]),_:1},8,["loading"])])):v("v-if",!0)])):(a(),c("div",Ie,"暂无评论"))])}}}),Me=b(Se,[["__scopeId","data-v-41bc289b"],["__file","E:/code/2023-暑期/5-vue/1-demo/vue3-music/src/views/playlist/CommentList.vue"]]);export{Me as C,y as u};
