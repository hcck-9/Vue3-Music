import{d as N,u as R,c as w,e as S,w as j}from"./base-9Z_h2vHL.js";import{E as D}from"./el-button-HY03yLLG.js";import{h as P,k as E,L as M,z as F,r as A,w as W,W as _,G as h,a8 as O,a9 as Y,f as q,$ as G,S as V,o as U,p as g,A as y,F as x,Y as b,C as $,m as v,I as z,x as X,y as B,a6 as Z,a0 as H}from"./index-Xc3Yzc2G.js";import{h as J}from"./api-RBkkRLth.js";import{f as K}from"./use-form-item-udUjy6Ez.js";import{P as p,i as L,a as Q}from"./vnode-E3L8rmmD.js";import"./index-kTyWkl82.js";import"./constants-ylLUDuoU.js";import"./index-7MvDZnRv.js";const ee=N({prefixCls:{type:String}}),I=P({name:"ElSpaceItem",props:ee,setup(e,{slots:d}){const u=R("space"),a=E(()=>`${e.prefixCls||u.b()}__item`);return()=>M("div",{class:a.value},F(d,"default"))}}),T={small:8,default:12,large:16};function ae(e){const d=R("space"),u=E(()=>[d.b(),d.m(e.direction),e.class]),a=A(0),i=A(0),k=E(()=>{const t=e.wrap||e.fill?{flexWrap:"wrap",marginBottom:`-${i.value}px`}:{},r={alignItems:e.alignment};return[t,r,e.style]}),f=E(()=>{const t={paddingBottom:`${i.value}px`,marginRight:`${a.value}px`},r=e.fill?{flexGrow:1,minWidth:`${e.fillRatio}%`}:{};return[t,r]});return W(()=>{const{size:t="small",wrap:r,direction:s,fill:n}=e;if(_(t)){const[o=0,c=0]=t;a.value=o,i.value=c}else{let o;w(t)?o=t:o=T[t||"small"]||T.small,(r||n)&&s==="horizontal"?a.value=i.value=o:s==="horizontal"?(a.value=o,i.value=0):(i.value=o,a.value=0)}}),{classes:u,containerStyle:k,itemStyle:f}}const te=N({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},class:{type:S([String,Object,Array]),default:""},style:{type:S([String,Array,Object]),default:""},alignment:{type:S(String),default:"center"},prefixCls:{type:String},spacer:{type:S([Object,String,Number,Array]),default:null,validator:e=>O(e)||w(e)||q(e)},wrap:Boolean,fill:Boolean,fillRatio:{type:Number,default:100},size:{type:[String,Array,Number],values:K,validator:e=>w(e)||_(e)&&e.length===2&&e.every(w)}}),se=P({name:"ElSpace",props:te,setup(e,{slots:d}){const{classes:u,containerStyle:a,itemStyle:i}=ae(e);function k(f,t="",r=[]){const{prefixCls:s}=e;return f.forEach((n,o)=>{L(n)?_(n.children)&&n.children.forEach((c,l)=>{L(c)&&_(c.children)?k(c.children,`${t+l}-`,r):r.push(h(I,{style:i.value,prefixCls:s,key:`nested-${t+l}`},{default:()=>[c]},p.PROPS|p.STYLE,["style","prefixCls"]))}):Q(n)&&r.push(h(I,{style:i.value,prefixCls:s,key:`LoopKey${t+o}`},{default:()=>[n]},p.PROPS|p.STYLE,["style","prefixCls"]))}),r}return()=>{var f;const{spacer:t,direction:r}=e,s=F(d,"default",{key:0},()=>[]);if(((f=s.children)!=null?f:[]).length===0)return null;if(_(s.children)){let n=k(s.children);if(t){const o=n.length-1;n=n.reduce((c,l,m)=>{const C=[...c,l];return m!==o&&C.push(h("span",{style:[i.value,r==="vertical"?"width: 100%":null],key:m},[O(t)?t:Y(t,p.TEXT)],p.STYLE)),C},[])}return h("div",{class:u.value,style:a.value},n,p.STYLE|p.CLASS)}return s.children}}}),ne=j(se),le={class:"pb-5"},ie={class:"flex-shrink-0 text-slate-400"},re={class:"ml-2",size:10},oe=["onClick"],ce={text:""},me={class:"grid grid-flow-row grid-cols-6 xl:grid-cols-8 2xl:grid-cols-10 gap-5"},ue=["onClick"],ye=["src","alt"],de={class:"mt-2 text-sm"},fe={class:"py-10"},pe=P({__name:"Artists",setup(e){const d=G(),u=A([]),a=V({init:!1,loading:!1,page:1,limit:60,type:-1,area:-1,initial:"-1"}),i=async()=>{a.loading=!0;try{const s=await J(a);a.page===1?u.value=s:u.value.push(...s),a.init=!0,a.loading=!1}catch{a.page--}},k=()=>{console.log("load")},f=()=>{k(),a.page++,i()};U(i);const t=(s,n)=>{console.log(s,n),a.page=1,s==="type"&&(a.type=n),s==="area"&&(a.area=n),s==="initial"&&(a.initial=n),i()},r=[{name:"语种",key:"area",list:[{key:-1,name:"全部"},{key:7,name:"华语"},{key:96,name:"欧美"},{key:8,name:"日本"},{key:16,name:"韩国"},{key:0,name:"其他"}]},{name:"分类",key:"type",list:[{key:-1,name:"全部"},{key:1,name:"男歌手"},{key:2,name:"女歌手"},{key:3,name:"乐队组合"}]},{name:"筛选",key:"initial",list:[{key:"-1",name:"热门"},{key:"a",name:"A"},{key:"b",name:"B"},{key:"c",name:"C"},{key:"d",name:"D"},{key:"e",name:"E"},{key:"f",name:"F"},{key:"g",name:"G"},{key:"h",name:"H"},{key:"i",name:"I"},{key:"j",name:"J"},{key:"k",name:"K"},{key:"l",name:"L"},{key:"m",name:"M"},{key:"n",name:"N"},{key:"o",name:"O"},{key:"p",name:"P"},{key:"q",name:"Q"},{key:"r",name:"R"},{key:"s",name:"S"},{key:"t",name:"T"},{key:"u",name:"U"},{key:"v",name:"V"},{key:"w",name:"W"},{key:"x",name:"X"},{key:"y",name:"Y"},{key:"z",name:"Z"},{key:"0",name:"#"}]}];return(s,n)=>{const o=ne,c=D;return v(),g(x,null,[y("div",le,[(v(),g(x,null,b(r,l=>y("div",{key:l.key,class:"flex text-xs mb-5"},[y("div",ie,z(l.name)+" ：",1),y("div",re,[h(o,{wrap:""},{default:$(()=>[(v(!0),g(x,null,b(l.list,m=>(v(),g("div",{type:"text",class:X(["hover-text px-1 py-0.5",{active:m.key===a.type&&l.key==="type"||m.key===a.area&&l.key==="area"||m.key===a.initial&&l.key==="initial"}]),key:m.key,onClick:C=>t(l.key,m.key)},[y("div",ce,z(m.name),1)],10,oe))),128))]),_:2},1024)])])),64))]),y("div",me,[(v(!0),g(x,null,b(u.value,l=>(v(),g("div",{key:l.id,class:"flex items-center flex-col",onClick:m=>B(d).push({name:B(Z).artistDetail,query:{id:l.id}})},[y("img",{src:l.img1v1Url,alt:l.name,class:"rounded-full cursor-pointer w-full aspect-square object-cover bg-dc"},null,8,ye),y("div",de,z(l.name),1)],8,ue))),128))]),y("div",fe,[h(c,{class:"w-full text-center",link:"",onClick:f,loading:a.loading},{default:$(()=>[Y(" 加载更多 ")]),_:1},8,["loading"])])],64)}}}),Ce=H(pe,[["__scopeId","data-v-9c7ae0de"],["__file","E:/code/2023-暑期/5-vue/1-demo/vue3-music/src/views/music/artists/Artists.vue"]]);export{Ce as default};
