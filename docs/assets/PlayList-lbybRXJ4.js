import"./base-O0zJ9wQI.js";import{a as I,E as V}from"./el-tab-pane-dKVYv1Cz.js";import{h as b,p as i,A as t,I as h,G as l,F as x,Y as E,y as r,m as n,a0 as k,r as c,k as z,B as M,C as _,a9 as j,q as S,ag as B,a5 as F,_ as N,o as T}from"./index-Xoaj6-Zc.js";import{u as q}from"./player-CKD4TmQn.js";import{z as D,A as U}from"./api-RBkkRLth.js";import{E as O}from"./el-avatar-p16kzAcp.js";import{M as R}from"./MoreText-QHZDISvy.js";import{a as g}from"./IconPark-kA3EyymD.js";import{M as G,S as Y}from"./SongListItem-i74VdzkS.js";import{P as H}from"./PlayOne-pXSikgQA.js";import{L as J}from"./PlayTwo-kcNdCeme.js";import{E as K}from"./el-button-j9s8UcJh.js";import{u as P,C as Q}from"./CommentList-7IixLV8g.js";import"./typescript-qWkfPxeU.js";import"./event-vOXeFsAk.js";import"./vnode-lSe6AG77.js";import"./index-pfbji-wY.js";import"./use-form-item-46Sa5dNx.js";import"./index-IxXeaCDS.js";import"./constants-pVGxzQxR.js";const W={class:"flex items-stretch"},X=["src"],Z={class:"pl-5 py-1 flex flex-col justify-between"},tt={class:"font-bold text-2xl"},st={class:"flex items-center pt-3 pb-2 text-dc text-xs"},et={class:"ml-2 text-sm"},lt={class:"flex gap-x-3 ml-5"},at={class:"text-xs text-gray-500 leading-normal"},ot={class:"flex items-center gap-x-2 mt-5 justify-self-stretch"},nt=t("span",null,"播放全部",-1),it={class:"w-32 button-outline button-sm"},rt=t("span",null,"收藏",-1),ct={class:"button-outline button-sm w-8"},ut=b({__name:"Info",props:{playlist:{type:Object,required:!0},playAll:{type:Function,required:!1}},setup(v){return(s,o)=>{const a=O;return n(),i("div",W,[t("img",{src:s.playlist.coverImgUrl,alt:"",class:"w-40 h-40 object-cover rounded-xl flex-shrink-0"},null,8,X),t("div",Z,[t("div",null,[t("div",tt,h(s.playlist.name),1),t("div",st,[l(a,{size:"small",src:s.playlist.creator.avatarUrl,round:""},null,8,["src"]),t("span",et,h(s.playlist.creator.nickname),1),t("div",lt,[(n(!0),i(x,null,E(s.playlist.tags,e=>(n(),i("div",{key:e,class:"hover-text"},"#"+h(e),1))),128))])]),t("div",at,[l(R,{text:s.playlist.description,end:90,"has-tag":!1},null,8,["text"])])]),t("div",ot,[t("button",{class:"w-32 button-outline button",onClick:o[0]||(o[0]=(...e)=>s.playAll&&s.playAll(...e))},[l(g,{icon:r(H),class:"mr-1",size:"22"},null,8,["icon"]),nt]),t("button",it,[l(g,{icon:r(J),class:"mr-1",size:"18"},null,8,["icon"]),rt]),t("button",ct,[l(g,{icon:r(G)},null,8,["icon"])])])])])}}}),mt=k(ut,[["__file","E:/code/2023-暑期/5-vue/1-demo/vue3-music/src/views/playlist/Info.vue"]]),dt=B('<div class="mt-2"><div class="flex text-xs text-gray-400 py-2"><div class="flex-auto">歌曲</div><div class="w-1/4">歌手</div><div class="w-1/4">专辑</div><div class="w-20">时长</div></div></div>',1),pt={class:"text-sm"},_t={key:0,class:"flex justify-center py-5"},vt=b({__name:"SongList",props:{songs:{type:Array,required:!0}},setup(v){const s=v,o=c(10),a=c(1),e=z(()=>a.value-s.songs.length/o.value>=0),f=()=>{a.value=a.value+1};return(u,w)=>{const y=K;return n(),i(x,null,[dt,t("div",pt,[(n(!0),i(x,null,E(u.songs.slice(0,o.value*a.value),m=>(n(),M(Y,{key:m.id,song:m,"show-ar-name":"","show-al-name":"",dj:!1},null,8,["song"]))),128))]),u.songs.length>o.value&&!e.value?(n(),i("div",_t,[l(y,{link:"",class:"text-center w-full",onClick:f},{default:_(()=>[j("加载更多")]),_:1})])):S("v-if",!0)],64)}}}),ft=k(vt,[["__file","E:/code/2023-暑期/5-vue/1-demo/vue3-music/src/views/playlist/SongList.vue"]]),yt={class:"playlist"},ht={key:0,class:"p-5"},gt=b({__name:"PlayList",setup(v){const s=F(),o=c("tracks"),a=c(),e=c([]),{pushPlayList:f,play:u}=q(),{playlistCommentCount:w}=N(P()),{getPlaylistCommentList:y}=P(),m=()=>{f(!0,...e.value),u(e.value.first().id)},d=Number(s.query.id);return T(async()=>{D(d).then(p=>{a.value=p}),U(d).then(p=>{e.value=p}),await y(d)}),(p,L)=>{const C=V,A=I;return n(),i("div",yt,[a.value?(n(),i("div",ht,[l(mt,{playlist:a.value,"play-all":()=>m()},null,8,["playlist","play-all"]),l(A,{modelValue:o.value,"onUpdate:modelValue":L[0]||(L[0]=$=>o.value=$),class:"mt-3"},{default:_(()=>[l(C,{lazy:"",label:`歌曲 ${e.value.length}`,name:"tracks"},{default:_(()=>[l(ft,{songs:e.value},null,8,["songs"])]),_:1},8,["label"]),l(C,{lazy:"",label:`评论  ${r(w)}`,name:"comments"},{default:_(()=>[l(Q,{id:r(d)},null,8,["id"])]),_:1},8,["label"])]),_:1},8,["modelValue"])])):S("v-if",!0)])}}}),Dt=k(gt,[["__scopeId","data-v-2dc6387e"],["__file","E:/code/2023-暑期/5-vue/1-demo/vue3-music/src/views/playlist/PlayList.vue"]]);export{Dt as default};
