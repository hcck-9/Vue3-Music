import{d as H,e as W,c as G,l as N,u as L,a as O,t as U,_ as Y,w as j}from"./base-O0zJ9wQI.js";import{E as q,a as J}from"./el-tab-pane-dKVYv1Cz.js";import{h as T,s as g,r as _,k as M,d as z,o as D,w as K,m as b,p as E,A as x,z as Q,x as $,y as c,J as R,$ as X,a5 as Z,R as ee,G as w,C as B,b as te,F as oe,Y as ae,B as se,a0 as le}from"./index-Xoaj6-Zc.js";import{b as ne,c as V,u as re}from"./typescript-qWkfPxeU.js";import{C as ue}from"./event-vOXeFsAk.js";import{a as ce}from"./scroll-85VDH8_-.js";import"./vnode-lSe6AG77.js";import"./index-pfbji-wY.js";const ie=H({zIndex:{type:W([Number,String]),default:100},target:{type:String,default:""},offset:{type:Number,default:0},position:{type:String,values:["top","bottom"],default:"top"}}),fe={scroll:({scrollTop:l,fixed:r})=>G(l)&&N(r),[ue]:l=>N(l)},A="ElAffix",me=T({name:A}),pe=T({...me,props:ie,emits:fe,setup(l,{expose:r,emit:s}){const e=l,p=L("affix"),o=g(),m=g(),u=g(),{height:i}=ne(),{height:f,width:n,top:y,bottom:C,update:h}=V(m,{windowScroll:!1}),d=V(o),a=_(!1),k=_(0),v=_(0),P=M(()=>({height:a.value?`${f.value}px`:"",width:a.value?`${n.value}px`:""})),I=M(()=>{if(!a.value)return{};const t=e.offset?O(e.offset):0;return{height:`${f.value}px`,width:`${n.value}px`,top:e.position==="top"?t:"",bottom:e.position==="bottom"?t:"",transform:v.value?`translateY(${v.value}px)`:"",zIndex:e.zIndex}}),S=()=>{if(u.value)if(k.value=u.value instanceof Window?document.documentElement.scrollTop:u.value.scrollTop||0,e.position==="top")if(e.target){const t=d.bottom.value-e.offset-f.value;a.value=e.offset>y.value&&d.bottom.value>0,v.value=t<0?t:0}else a.value=e.offset>y.value;else if(e.target){const t=i.value-d.top.value-e.offset-f.value;a.value=i.value-e.offset<C.value&&i.value>d.top.value,v.value=t<0?-t:0}else a.value=i.value-e.offset<C.value},F=()=>{h(),s("scroll",{scrollTop:k.value,fixed:a.value})};return z(a,t=>s("change",t)),D(()=>{var t;e.target?(o.value=(t=document.querySelector(e.target))!=null?t:void 0,o.value||U(A,`Target is not existed: ${e.target}`)):o.value=document.documentElement,u.value=ce(m.value,!0),h()}),re(u,"scroll",F),K(S),r({update:S,updateRoot:h}),(t,Ee)=>(b(),E("div",{ref_key:"root",ref:m,class:$(c(p).b()),style:R(c(P))},[x("div",{class:$({[c(p).m("fixed")]:a.value}),style:R(c(I))},[Q(t.$slots,"default")],6)],6))}});var de=Y(pe,[["__file","affix.vue"]]);const ve=j(de);function _e(){const l=[{label:"精选",name:"picked"},{label:"有声电台",name:"dj"},{label:"排行",name:"toplist"},{label:"歌手",name:"artists"},{label:"分类歌单",name:"category"},{label:"数字专辑",name:"album"}],r=X(),s=Z(),e=_(s.name);return z(()=>s.name,o=>{e.value=o}),{menus:l,currentMenu:e,onTabClick:({props:o})=>{r.push({name:o.name,replace:!0})}}}const be={class:"pl-5 pr-5 music"},xe=x("h1",{class:"text-3xl font-bold pt-8 pb-4"},"音乐馆",-1),he={class:"bg-view"},ge={class:"mt-5"},we=T({__name:"Music",setup(l){const{menus:r,currentMenu:s,onTabClick:e}=_e();return(p,o)=>{const m=q,u=J,i=ve,f=ee("RouterView");return b(),E("div",be,[xe,w(i,{offset:56,target:".music"},{default:B(()=>[x("div",he,[w(u,{modelValue:c(s),"onUpdate:modelValue":o[0]||(o[0]=n=>te(s)?s.value=n:null),class:"demo-tabs text-main w-fit",onTabClick:c(e)},{default:B(()=>[(b(!0),E(oe,null,ae(c(r),n=>(b(),se(m,{key:n.name,label:n.label,name:n.name},null,8,["label","name"]))),128))]),_:1},8,["modelValue","onTabClick"])])]),_:1}),x("div",ge,[w(f)])])}}}),Re=le(we,[["__file","E:/code/2023-暑期/5-vue/1-demo/vue3-music/src/views/music/Music.vue"]]);export{Re as default};
